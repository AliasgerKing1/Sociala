"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9928],{51172:function(e,n,r){r.d(n,{o:function(){return i}});var t=r(85893),c=r(73935),o=r(8336);function i(e){return"undefined"===typeof document?null:c.createPortal((0,t.jsx)("div",{className:"pointer-events-none fixed bottom-0 right-0 left-0 flex justify-center p-16",children:(0,t.jsxs)("div",{onClick:function(e){return e.stopPropagation()},onFocus:function(n){!e.show&&n.currentTarget.contains(n.target)&&n.target.blur()},className:(0,o.A)("flex h-52 flex-row items-center justify-between pl-16 pr-8","w-[600px] max-w-full","bg-white","rounded-16 shadow","transition duration-300 ease-in-out",e.show?"translate-y-0 opacity-100":"translate-y-64 opacity-0","pointer-events-auto select-none"),children:[(0,t.jsx)("h2",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-16 text-black",children:e.title}),(0,t.jsx)("div",{className:"flex flex-row gap-8 pl-16",children:e.actionButtons})]})}),document.body)}},38394:function(e,n,r){r.d(n,{Y:function(){return s}});var t=r(14924),c=r(82670),o=r(26042),i=r(69396),l=r(10253),a=r(67294);function s(e){var n=e.screenIds,r=(0,a.useRef)(null),s=(0,a.useState)({}),d=s[0],u=s[1],p=(0,a.useMemo)((function(){return Object.entries(d).filter((function(e){var n=(0,l.Z)(e,2);n[0];return n[1]})).map((function(e){return(0,l.Z)(e,1)[0]}))}),[d]),f=(0,a.useState)(void 0),m=f[0],h=f[1],v=(0,a.useCallback)((function(){u({}),h(void 0)}),[]),g=(0,a.useCallback)((function(e,r){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"single_selection";if("range_selection"!==c)u((function(n){return(0,i.Z)((0,o.Z)({},n),(0,t.Z)({},e,r))})),r&&h(e);else{if(!p.length)return u((0,t.Z)({},e,r)),void h(e);var l=n.findIndex((function(e){return e===m})),a=n.findIndex((function(n){return n===e}));if(-1===l||-1===a)throw new Error("Invariant violation: Anchor or clicked index must exist to be selected.");var s={start:Math.min(l,a),end:Math.max(l,a)+1};u(Object.fromEntries(n.slice(s.start,s.end).map((function(e){return[e,!0]}))))}}),[n,m,p.length]);return(0,a.useEffect)((function(){var e=function(e){var n;(0,c.Z)(e.target,Node)&&(!0===(null===(n=r.current)||void 0===n?void 0:n.contains(e.target))&&r.current!==e.target||p.length>0&&v())},n=function(e){"Escape"!==e.key||(0,c.Z)(e.target,HTMLInputElement)||(0,c.Z)(e.target,HTMLTextAreaElement)||(v(),e.preventDefault())};return window.addEventListener("click",e),window.addEventListener("keydown",n),function(){window.removeEventListener("click",e),window.removeEventListener("keydown",n)}}),[v,r,p.length]),{screensGridRef:r,selectedScreens:d,selectedScreenIds:p,handleScreenSelectionChange:g,clearSelection:v}}},50011:function(e,n,r){r.d(n,{s9:function(){return R},Uv:function(){return T}});var t=r(26042),c=r(85893),o=r(41664),i=r.n(o),l=r(47562),a=r(68448),s=r(306),d=r(31237),u=r(66308),p=r(76926),f=r(56114),m=r(42839);function h(e){var n={id:e.appId,platform:e.platform,name:e.appName};return"/apps/".concat((0,m.P)(n),"/_/screens")}var v=r(10253),g=r(67294),x=r(11163),S=r(27419),w=r(65927),j=r(11428),_=r(99419),y=r(30846),C=r(31516),I=r(18740),k=r(81931),N=r(6784),P=r(61190),U=r(86430);function b(e){var n,r,o=e.activeScreenId,i=e.onActiveScreenChange,a=e.screens,s=e.filterPathname,d=e.isFullpage,u=e.setIsFullpage,f=function(){A.back()},m=function(){var e;void 0!==(null===L||void 0===L||null===(e=L.prevScreen)||void 0===e?void 0:e.id)&&i(L.prevScreen.id,"string"===typeof L.prevScreen.fullpageScreenUrl)},b=function(){var e;void 0!==(null===L||void 0===L||null===(e=L.nextScreen)||void 0===e?void 0:e.id)&&i(L.nextScreen.id,"string"===typeof L.nextScreen.fullpageScreenUrl)},A=(0,x.useRouter)(),Z=(0,j._C)(),O=(0,C.f)(),L=(0,g.useMemo)((function(){var e=a.findIndex((function(e){return e.id===o}));if(-1===e)return null;var n=a[e];return n?{prevScreen:e<a.length&&e>0?a[e-1]:null,currentScreen:n,nextScreen:e<a.length-1?a[e+1]:null}:null}),[a,o]),F=(0,v.Z)((0,U.e)(!L),2),R=F[0],E=F[1],D=(0,P.np)(o,{enabled:void 0!==(null===L||void 0===L?void 0:L.currentScreen)&&void 0===L.currentScreen.flows});return(0,p.aL)(["ArrowLeft","ArrowRight"],(function(e,n){"ArrowLeft"===n?m():"ArrowRight"===n&&b()})),(0,c.jsxs)(S.x,{open:!!L,onOpenChange:function(e){return e||f()},title:(null===L||void 0===L?void 0:L.currentScreen)&&(0,c.jsx)(N.t,{appName:L.currentScreen.appName,appPlatform:L.currentScreen.platform,appUrl:h(L.currentScreen),appLogoUrl:L.currentScreen.appLogoUrl}),startActionButtons:Z>=720?(0,c.jsxs)("div",{className:"flex flex-row",children:[(0,c.jsx)(w.u,{text:"Previous screen",keys:"\u2190",hide:!(null===L||void 0===L?void 0:L.prevScreen),children:(0,c.jsx)(l.z,{icon:_.w,intent:"minimal",disabled:!(null===L||void 0===L?void 0:L.prevScreen),onClick:m})}),(0,c.jsx)(w.u,{text:"Next screen",keys:"\u2192",hide:!(null===L||void 0===L?void 0:L.nextScreen),children:(0,c.jsx)(l.z,{icon:y.X,intent:"minimal",disabled:!(null===L||void 0===L?void 0:L.nextScreen),onClick:b})})]}):void 0,endActionButtons:null!==o&&(null===L||void 0===L?void 0:L.currentScreen)&&(0,c.jsx)(P.FO,{platform:L.currentScreen.platform,screenId:o,isInspectorOpen:R,onIsInspectorOpenChange:E,variant:"header",screenType:"string"===typeof L.currentScreen.fullpageScreenUrl&&d?"fullpage":"screen"}),children:[(null===L||void 0===L?void 0:L.prevScreen)&&(0,c.jsx)("img",(0,t.Z)({className:"hidden",alt:""},(0,I.V)(L.prevScreen.screenUrl,O?{}:{width:k.Zi}))),(null===L||void 0===L?void 0:L.nextScreen)&&(0,c.jsx)("img",(0,t.Z)({className:"hidden",alt:""},(0,I.V)(L.nextScreen.screenUrl,O?{}:{width:k.Zi}))),"string"===typeof(null===L||void 0===L?void 0:L.currentScreen.fullpageScreenUrl)&&(0,c.jsx)("img",(0,t.Z)({className:"hidden",alt:""},(0,I.V)(L.currentScreen.fullpageScreenUrl,O?{}:{width:k.Zi}))),(null===L||void 0===L?void 0:L.currentScreen)&&o&&(0,c.jsxs)(P.Kh,{screenId:o,platform:L.currentScreen.platform,hasFullpage:"string"===typeof L.currentScreen.fullpageScreenUrl,isFullpage:d,setIsFullpage:u,isInspectorOpen:R,onIsInspectorOpenChange:E,children:[(0,c.jsx)(P.vf,{children:(0,c.jsx)(P.jp,{imageUrl:L.currentScreen.screenUrl,imageFullpageUrl:L.currentScreen.fullpageScreenUrl,appName:L.currentScreen.appName,onZoomOut:f,children:(0,c.jsx)(P.As,{screenPatterns:L.currentScreen.screenPatterns,screenElements:L.currentScreen.screenElements,pagePatterns:L.currentScreen.pagePatterns,pageType:L.currentScreen.pageType,uploadDate:L.currentScreen.createdAt,pageUrl:L.currentScreen.pageUrl,queryOnUrl:null!==s&&void 0!==s?s:h(L.currentScreen)})})}),(0,c.jsx)(P.FO,{variant:"footer",screenType:"string"===typeof L.currentScreen.fullpageScreenUrl&&d?"fullpage":"screen"}),(0,c.jsx)(P.Y$,{app:L.currentScreen,flows:null!==(r=L.currentScreen.flows)&&void 0!==r?r:null===(n=D.data)||void 0===n?void 0:n.flows})]})]})}var A=r(54943);function Z(e){return(0,c.jsx)(A.PY,(0,t.Z)({},e))}function O(e){var n=e.screensGridSelection,r=e.screens,o=e.modalActiveScreenId,m=e.onModalActiveScreenIdChange,v=e.filterPathname,g=e.ScreenCell,x=void 0===g?Z:g,S=e.screensGrid,w=e.isFullpage,j=e.setIsFullpage,_=(0,f.P)(),y=n.screensGridRef,C=n.selectedScreens,I=n.handleScreenSelectionChange,k=(0,s.C)({itemsCount:S.clampedItemCount,itemsPerRow:S.itemsPerRow,rowHeight:S.rowHeight,gridGap:S.gridGap}),N=(0,d.Y)(y,k.gridRef);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{ref:S.gridContainerRef,className:"pb-24",children:(0,c.jsx)("div",{ref:N,style:(0,t.Z)({width:S.width||void 0},k.style),children:!0===S.isLoading?Array.from({length:S.clampedItemCount}).slice(k.startIndex,k.endIndex).map((function(e,n){return(0,c.jsx)(x,{loading:!0,appPlatform:S.appPlatform},n)})):r.slice(k.startIndex,k.endIndex).map((function(e){var n,r=null!==(n=e.selectableId)&&void 0!==n?n:e.id;return(0,c.jsx)(i(),{href:"/screens/".concat(e.id),shallow:!0,passHref:!0,children:(0,c.jsx)(x,{screenId:e.id,selectableId:r,appUrl:h(e),appName:e.appName,appPlatform:e.platform,appLogoUrl:e.appLogoUrl,screenImageUrl:e.screenUrl,pageUrl:e.pageUrl,onSelectedChange:function(e){return I(r,e)},selected:C[r],onClick:function(n){(0,p.kp)(n)||n.altKey||(n.preventDefault(),n.stopPropagation(),n.shiftKey?I(r,!0,"range_selection"):(u.aX.track("Screen Cell Clicked",{screen_id:e.id}),m(e.id,null,"push")))},onSelectOpenScreen:function(){u.aX.track("Screen Cell Clicked",{screen_id:e.id}),m(e.id,null,"push")}})},e.id)}))})}),(0,c.jsx)(b,{screens:r,activeScreenId:o,onActiveScreenChange:function(e,n){return m(e,n,"replace")},filterPathname:v,isFullpage:w,setIsFullpage:j}),(0,c.jsxs)(a.Vq,{open:"continue_from_download_button_tutorial_coach_dialog"===_.toursState.screen_download_tour,noCloseButton:!0,noDismissOnEsc:!0,noDismissOnOverlayClick:!0,children:[(0,c.jsx)(a.$N,{children:"Now paste the screen in Figma"}),(0,c.jsx)(a.a7,{children:(0,c.jsxs)("div",{className:"grid w-[400px] grid-flow-row gap-16",children:[(0,c.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,className:"w-full",children:(0,c.jsx)("source",{src:"/videos/screen_cell_copy_button.mp4",type:"video/mp4"})}),(0,c.jsx)("p",{children:"Awesome! You can now paste the copied screen to your design tool and keep on ideating."})]})}),(0,c.jsx)(a.RQ,{children:(0,c.jsx)(l.z,{onClick:function(){return _.completeStep({screen_download_tour:"continue_from_download_button_tutorial_coach_dialog"})},children:"Next"})})]}),(0,c.jsxs)(a.Vq,{open:"continue_from_download_context_menu_tutorial_coach_dialog"===_.toursState.screen_download_tour,noCloseButton:!0,noDismissOnEsc:!0,noDismissOnOverlayClick:!0,children:[(0,c.jsx)(a.$N,{children:"Now paste the screen in Figma"}),(0,c.jsx)(a.a7,{children:(0,c.jsxs)("div",{className:"grid w-[400px] grid-flow-row gap-16",children:[(0,c.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,className:"w-full",children:(0,c.jsx)("source",{src:"/videos/screen_cell_copy_context_menu.mp4",type:"video/mp4"})}),(0,c.jsx)("p",{children:"You can also right-click the screen and copy it via the context menu."})]})}),(0,c.jsx)(a.RQ,{children:(0,c.jsx)(l.z,{onClick:function(){return _.completeStep({screen_download_tour:"continue_from_download_context_menu_tutorial_coach_dialog"})},children:"Ok, got it"})})]})]})}var L=r(78479);function F(e){var n=e.onStartANewSearch;return(0,c.jsx)("div",{className:"flex grow items-center justify-center py-80",children:(0,c.jsxs)(L.qx,{children:[(0,c.jsx)(L.eq,{children:"No screens found"}),(0,c.jsx)(L.Dl,{children:"We couldn't find any screens matching your query. Try another query."}),n&&(0,c.jsx)(L.Ij,{onClick:n,children:"Start a new search"})]})})}function R(e){return 0===e.screens.length&&!0!==e.screensGrid.isLoading?(0,c.jsx)(F,(0,t.Z)({},e)):(0,c.jsx)(O,(0,t.Z)({},e))}var E=r(48326),D=r(22316);function T(e){var n=(0,D.R)(A.X0),r=(0,A.Wm)({contentWidth:n.width,appPlatform:e.appPlatform}),t=(0,E.K)({itemsPerRow:r.itemsPerRow,itemCount:e.itemCount,isLoading:e.isLoading,hasNextPage:e.hasNextPage,shouldClamp:e.shouldClamp});return{gridContainerRef:n.ref,width:r.width,itemsPerRow:r.itemsPerRow,rowHeight:r.rowHeight,gridGap:r.gridGap,clampedItemCount:t.clampedItemCount,wasClamped:t.wasClamped,appPlatform:e.appPlatform,isLoading:e.isLoading}}},58290:function(e,n,r){r.d(n,{u:function(){return g}});var t=r(47568),c=r(34051),o=r.n(c),i=r(85893),l=(r(67294),r(23450)),a=r.n(l),s=r(51172),d=r(47562),u=r(31473),p=r(66308),f=r(10166),m=r(53334),h=r(87587),v=r(49981);function g(e){var n=(0,f.dO)(),r=(0,u.Ps)(),c=(0,h.gj)()({appScreenIds:e.selectedAppScreenIds,platformType:e.platformType});return(0,i.jsx)(s.o,{show:!!e.selectedAppScreenIds.length,title:"".concat(e.selectedAppScreenIds.length," selected"),actionButtons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.GN,{align:"end",contentType:"screen",onSelectCollection:function(){var n=(0,t.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(r);case 2:e.clearSelection();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onOpenChange:function(){},variant:"verbose_text_only"}),(0,i.jsx)(d.z,{intent:"secondary",onClick:function(){n.invokeIfAllowed({intent:"download_selected_screens",requires:"membership",callbackToInvoke:function(){p.aX.track("Screens Downloaded",{screen_ids:e.selectedAppScreenIds});var n=e.selectedAppScreenIds.map((function(n){return e.screens.find((function(e){return e.id===n}))})).filter((function(e){return!!e})),t=r.toastLoading({message:"Downloading ".concat(a()("screen",n.length),"...")});(0,m.uv)(n.map((function(e,n){return{imageUrl:e.screenUrl,filename:"".concat(n+1," ").concat(e.appName," ").concat((0,v.w$)(e.platform))}})),e.batchDownloadFileName).then((function(){return t.resolveWithSuccess({message:"Downloaded ".concat(a()("screen",n.length),"!")})}),t.resolveWithError).then(e.clearSelection)}})},children:"Download as PNG"}),e.additionalButtons]})})}}}]);
//# sourceMappingURL=9928-7bdbc001c62e32eb.js.map